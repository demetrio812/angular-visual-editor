!function(e){e.module("angularVisualEditor.config",[]).value("angularVisualEditor.config",{debug:!0}),e.module("angularVisualEditor.directives",[]),e.module("angularVisualEditor.filters",[]),e.module("angularVisualEditor.services",[]),e.module("angularVisualEditor",["angularVisualEditor.config","angularVisualEditor.directives","angularVisualEditor.filters","angularVisualEditor.services","ngDragDrop"])}(angular),angular.module("angularVisualEditor.directives",[]).directive("ave",["Utils",function(e){return{restrict:"EA",scope:{test:"@",textDescriptor:"=?",tools:"=?"},link:function(t){e.isUndefinedOrNull(t.tools)&&(t.tools=[{id:"T1",name:"Tool1"},{id:"T2",name:"Tool2"},{id:"T3",name:"Tool3"},{id:"T4",name:"Tool4"}]),e.isUndefinedOrNull(t.textDescriptor)&&(t.textDescriptor={text:"",elements:[]})},replace:!0,templateUrl:"ave-main.html"}}]),angular.module("angularVisualEditor.services",[]).factory("Utils",function(){var e={isUndefinedOrNull:function(e){return!angular.isDefined(e)||null===e},findInArrayByField:function(e,t,i){for(var n=0;n<e.length;n++)if(e[n][t]==i)return e[n];return!1},replaceNewLineWithBrTag:function(e){if(this.isUndefinedOrNull(e))return null;var t=e.replace(/\n/g,"<br/>");return t},getInitialLetter:function(e){var t="";return!this.isUndefinedOrNull(e)&&e.length>0&&(t+=e.charAt(0).toUpperCase()),t},getInitialLetters:function(e){var t="";return!this.isUndefinedOrNull(e.forename)&&e.forename.length>0&&(t+=e.forename.charAt(0).toUpperCase()),!this.isUndefinedOrNull(e.surname)&&e.surname.length>0&&(t+=e.surname.charAt(0).toUpperCase()),t},getInitialLettersForItem:function(e){var t="";return!this.isUndefinedOrNull(e.displayName)&&e.displayName.length>0&&(t+=e.displayName.charAt(0).toUpperCase()),t},getTagsAsCommaSeparatedString:function(e){var t=null;if(e){t="";for(var i=0;i<e.length;i++){var n=e[i].name;n&&""!=n&&(t=t+", "+n)}t.length>0&&(t=t.replace(", ",""))}return t}};return e}),angular.module("angularVisualEditor.directives").run(["$templateCache",function(e){e.put("ave-main.html",'<div><style>.tools, .elements, .preview {\n      border: 1px solid red;\n      min-height: 100px;\n      padding: 4px;\n      margin: 4px;\n    }\n\n    .tool, .element {\n      border: 1px solid green;\n      min-height: 30px;\n      padding: 2px;\n      margin: 2px;\n    }\n\n    .tool {\n      display: inline-block;\n    }</style>Main div: {{test}}<div class="tools"><div class="tool" data-drag="true" data-drop="true" ng-model="tools" jqyoui-draggable="{index: {{$index}},animate:true}" jqyoui-droppable="{index: {{$index}}}" data-jqyoui-options="{revert: \'invalid\'}" ng-repeat="tool in tools">{{tool.id}}-{{tool.name}}</div></div><div class="elements" jqyoui-droppable="{multiple:true}" data-drop="true" ng-model="textDescriptor.elements"><div class="element" ng-repeat="element in textDescriptor.elements" data-drag="true" ng-model="textDescriptor.elements" jqyoui-draggable="{index: {{$index}},animate:true}" data-jqyoui-options="{revert: \'invalid\'}">{{element}}</div></div><div class="preview"><div>Preview:</div>{{textDescriptor.text}}</div></div>')}]);