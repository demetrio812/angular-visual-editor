!function(e){e.module("angularVisualEditor.config",[]).value("angularVisualEditor.config",{debug:!0}),e.module("angularVisualEditor.directives",[]),e.module("angularVisualEditor.filters",[]),e.module("angularVisualEditor.services",[]),e.module("angularVisualEditor",["angularVisualEditor.config","angularVisualEditor.directives","angularVisualEditor.filters","angularVisualEditor.services","ngDragDrop"])}(angular),angular.module("angularVisualEditor.directives",[]).directive("ave",["Utils",function(e){return{restrict:"EA",scope:{test:"@",textDescriptor:"=?",tools:"=?"},link:function(i){e.isUndefinedOrNull(i.tools)&&(i.tools=[{id:"T1",name:"Tool1"},{id:"T2",name:"Tool2"},{id:"T3",name:"Tool3"},{id:"T4",name:"Tool4"}]),e.isUndefinedOrNull(i.textDescriptor)&&(i.textDescriptor={text:"",elements:[]})},replace:!0,templateUrl:"ave-main.html"}}]),angular.module("angularVisualEditor.services",[]).factory("Utils",function(){var e={isUndefinedOrNull:function(e){return!angular.isDefined(e)||null===e},findInArrayByField:function(e,i,t){for(var r=0;r<e.length;r++)if(e[r][i]==t)return e[r];return!1},replaceNewLineWithBrTag:function(e){if(this.isUndefinedOrNull(e))return null;var i=e.replace(/\n/g,"<br/>");return i},getInitialLetter:function(e){var i="";return!this.isUndefinedOrNull(e)&&e.length>0&&(i+=e.charAt(0).toUpperCase()),i},getInitialLetters:function(e){var i="";return!this.isUndefinedOrNull(e.forename)&&e.forename.length>0&&(i+=e.forename.charAt(0).toUpperCase()),!this.isUndefinedOrNull(e.surname)&&e.surname.length>0&&(i+=e.surname.charAt(0).toUpperCase()),i},getInitialLettersForItem:function(e){var i="";return!this.isUndefinedOrNull(e.displayName)&&e.displayName.length>0&&(i+=e.displayName.charAt(0).toUpperCase()),i},getTagsAsCommaSeparatedString:function(e){var i=null;if(e){i="";for(var t=0;t<e.length;t++){var r=e[t].name;r&&""!=r&&(i=i+", "+r)}i.length>0&&(i=i.replace(", ",""))}return i}};return e}),angular.module("angularVisualEditor.directives").run(["$templateCache",function(e){e.put("ave-main.html",'<div><style>.tools, .elements, .preview {\n      border: 1px solid red;\n      min-height: 100px;\n      padding: 4px;\n      margin: 4px;\n    }\n\n    .tool, .element {\n      border: 1px solid green;\n      min-height: 30px;\n      padding: 2px;\n      margin: 2px;\n    }\n\n    .tool {\n      display: inline-block;\n    }</style>Main div: {{test}}<div class="tools"><div class="tool" data-drag="true" data-drop="true" ng-model="tools" jqyoui-draggable="{index: {{$index}},animate:true, placeholder: \'keep\'}" jqyoui-droppable="{index: {{$index}}}" data-jqyoui-options="{revert: \'invalid\', helper: \'clone\'}" ng-repeat="tool in tools">{{tool.id}}-{{tool.name}}</div></div><div class="elements" jqyoui-droppable="{multiple:true}" data-drop="true" ng-model="textDescriptor.elements"><div class="element" ng-repeat="element in textDescriptor.elements" data-drag="true" ng-model="textDescriptor.elements" jqyoui-draggable="{index: {{$index}},animate:true, insertInline: true, direction:\'jqyouiDirection\'}" data-direction="{{element.jqyouiDirection}}" data-jqyoui-options="{revert: \'invalid\', helper: \'clone\'}" jqyoui-droppable="{index: {{$index}},multiple:true}" data-drop="true">{{element}}</div></div><div class="preview"><div>Preview:</div>{{textDescriptor.text}}</div></div>')}]);